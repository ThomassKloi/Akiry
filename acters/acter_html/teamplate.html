<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Актёр | Akiry</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white">
    <div id="nav"></div>

  <div id="actor-card" class="max-w-6xl mx-auto py-16 flex flex-col gap-12"></div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const actorId = params.get("id");

    async function loadActor() {
      try {
        const res = await fetch(`http://localhost:3000/api/actors/${actorId}`);
        const actor = await res.json();

        const container = document.getElementById("actor-card");
        container.innerHTML = `
          <div class="flex flex-col md:flex-row items-center md:items-start gap-10">
            <img src="../../${actor.photo}" alt="${actor.name}"
                 class="w-[405px] h-[542px] object-cover rounded-lg shadow-lg">
            <div class="flex-1">
              <h2 class="text-4xl font-bold mb-6">${actor.name}</h2>
              <p class="text-lg leading-relaxed mb-8">${actor.description}</p>
              <div class="flex flex-wrap gap-4">
                ${actor.socials?.vk ? `<a href="${actor.socials.vk}" class="bg-white text-black px-6 py-2 rounded-full hover:scale-105 transition">VK</a>` : ""}
                ${actor.socials?.tg ? `<a href="${actor.socials.tg}" class="bg-white text-black px-6 py-2 rounded-full hover:scale-105 transition">Telegram</a>` : ""}
                ${actor.socials?.yt ? `<a href="${actor.socials.yt}" class="bg-white text-black px-6 py-2 rounded-full hover:scale-105 transition">YouTube</a>` : ""}
                ${actor.socials?.fw ? `<a href="${actor.socials.fw}" class="bg-white text-black px-6 py-2 rounded-full hover:scale-105 transition">Fundub Wiki</a>` : ""}
                ${actor.socials?.tw ? `<a href="${actor.socials.tw}" class="bg-white text-black px-6 py-2 rounded-full hover:scale-105 transition">Twitch</a>` : ""}
              </div>
            </div>
          </div>

          <div>
            <h3 class="text-3xl font-semibold mb-6">Герои, которых озвучивал</h3>
            <div id="roles" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-8"></div>
          </div>
        `;

        // Отображаем роли (персонажей)
        const rolesDiv = document.getElementById("roles");
        rolesDiv.innerHTML = actor.roles.map(r => `
          <a href="#" class="flex flex-col items-center text-center hover:scale-105 transition">
            <img src="../../${r.image}" alt="${r.name}"
                 class="w-[220px] h-[320px] object-cover rounded-lg mb-3 shadow-lg">
            <span class="text-lg font-medium">${r.name}</span>
          </a>
        `).join("");

      } catch (err) {
        console.error("Ошибка загрузки актёра:", err);
        document.getElementById("actor-card").innerHTML = `<p class="text-red-400">Ошибка загрузки данных</p>`;
      }
    }

    loadActor();
  </script>
  <script src="/js/main.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>
